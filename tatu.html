<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate Life</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.13/dist/full.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="bg-white mx-auto">
    <header>
        <nav class="bg-gray-100 shadow-lg px-16 py-6 flex justify-between items-center fixed top-0 left-0 w-full z-50">
            <button class="btn bg-emerald-500 font-bold w-20">Blog</button>
            <div class="flex text-center gap-3">
                <img src="assets/logo.png" alt="">
                <h1 class="text-xl font-bold text-purple-600 mt-3">Donate Bangladesh</h1>
            </div>
            <div class="flex gap-3">
                <img src="assets/coin.png" alt="">
                <span id="navbar-amount" class="text-yellow-600 font-bold text-lg">5500 BDT</span>
            </div>
        </nav>
    </header>

    <main>
        <section class="mt-36">
            <div class="flex justify-center gap-3 ">
                <button class="btn btn-success w-40 font-bold">Donation</button>
                <button class="btn w-40 font-bold" id="show-history">History</button>
            </div>
        </section>

        <!-- Donation Section for Noakhali -->
        <section class="bg-amber-50 m-16 rounded-lg">
            <div class="flex justify-center mt-28 p-5">
                <div class="w-full max-w-lg shadow-md rounded-lg">
                    <img class="" src="assets/noakhali.png" alt="">
                </div>
                <div class="ml-6 text-justify">
                    <button id="donation-btn-noakhali" class="btn">
                        <div class=""><img src="assets/coin.png" alt=""></div>
                        <span id="donation-amount-noakhali">0 BDT</span>
                    </button>
                    <h2 class="text-lg font-bold mb-4 mt-4">Donate for Flood at Noakhali, Bangladesh</h2>
                    <p class="text-gray-600 mb-4">The recent floods in Noakhali have caused significant damage to homes and infrastructure. Your donation will help provide essential supplies to those affected by this disaster.</p>
                    <div class="mb-5">
                        <label class="block text-gray-700 font-bold mb-2">Donation Amount</label>
                        <input type="number" id="donation-input-noakhali" placeholder="Write Donation Amount" class="input input-bordered w-full mt-2">
                    </div>
                    <button class="btn btn-success w-full" id="donate-now-noakhali">Donate Now</button>
                </div>
            </div>
        </section>

        <!-- Donation Section for Feni -->
        <section class="bg-amber-50 m-16 rounded-lg">
            <div class="flex justify-center -mt-7 p-5">
                <div class="w-full max-w-lg rounded-lg">
                    <img class="" src="assets/feni.png" alt="">
                </div>
                <div class="ml-6 text-justify">
                    <button id="donation-btn-feni" class="btn">
                        <div class=""><img src="assets/coin.png" alt=""></div>
                        <span id="donation-amount-feni">600 BDT</span>
                    </button>
                    <h2 class="text-lg font-bold mb-2 mt-2">Donate for Flood Relief in Feni, Bangladesh</h2>
                    <p class="text-gray-600 mb-2">The recent floods in Feni have devastated local communities. Your generous donation will help provide aid to those affected.</p>
                    <div class="mb-3">
                        <label class="block text-gray-700 font-bold mb-2">Donation Amount</label>
                        <input type="number" id="donation-input-feni" placeholder="Write Donation Amount" class="input input-bordered w-full mt-1">
                    </div>
                    <button class="btn btn-success w-full" id="donate-now-feni">Donate Now</button>
                </div>
            </div>
        </section>

        <!-- Donation History Section -->
        <section id="history-section" class="hidden bg-gray-100 m-16 rounded-lg p-4">
            <h2 class="text-lg font-bold mb-4">Donation History</h2>
            <ul id="donation-history" class="list-disc ml-5 text-gray-700">
                <!-- History entries will appear here -->
            </ul>
        </section>
    </main>

    <script>
        // Initialize total amount
        let totalNavbarAmount = 5500;

        // Function to handle donation
        function handleDonation(inputId, amountSpanId, buttonId, cause) {
            const inputField = document.getElementById(inputId);
            const donationButton = document.getElementById(amountSpanId);
            const donateNowButton = document.getElementById(buttonId);
            const historyList = document.getElementById('donation-history');
            let currentAmount = 0;

            donateNowButton.addEventListener('click', function() {
                const enteredAmount = parseFloat(inputField.value) || 0; // Get the input value, default to 0 if empty

                if (enteredAmount > 0 && enteredAmount <= totalNavbarAmount) {
                    currentAmount += enteredAmount; // Update the current amount
                    donationButton.textContent = `${currentAmount} BDT`; // Update button to show donation amount

                    // Update the navbar amount
                    totalNavbarAmount -= enteredAmount; // Deduct from total amount
                    document.getElementById('navbar-amount').textContent = `${totalNavbarAmount} BDT`; // Update navbar display

                    // Add entry to donation history
                    const historyEntry = document.createElement('li');
                    historyEntry.textContent = `You donated ${enteredAmount} BDT to ${cause}`;
                    historyList.appendChild(historyEntry);

                    // Clear the input field
                    inputField.value = '';
                } else {
                    alert('Please enter a valid amount within your available balance.');
                }
            });
        }

        // Call the handleDonation function for each section
        handleDonation('donation-input-noakhali', 'donation-amount-noakhali', 'donate-now-noakhali', 'Noakhali');
        handleDonation('donation-input-feni', 'donation-amount-feni', 'donate-now-feni', 'Feni');

        // Show/Hide Donation History
        document.getElementById('show-history').addEventListener('click', function() {
            const historySection = document.getElementById('history-section');
            if (historySection.classList.contains('hidden')) {
                historySection.classList.remove('hidden');
            } else {
                historySection.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
